{"version":3,"sources":["webpack:///static/js/app.b72fc0c3943db1bc5253.js","webpack:///./src/App.vue?fc6a","webpack:///./src/main.js","webpack:///App.vue","webpack:///Drawable.vue","webpack:///./src/components/Drawable.vue?d2eb","webpack:///./src/components/Drawable.vue?eabd","webpack:///./src/App.vue?7d3d"],"names":["webpackJsonp","27","module","exports","__webpack_require__","injectStyle","ssrContext","Component","30","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","n","__WEBPACK_IMPORTED_MODULE_2_vue_resource__","config","productionTip","use","el","template","components","App","a","31","__WEBPACK_IMPORTED_MODULE_0__components_Drawable__","__WEBPACK_IMPORTED_MODULE_0__components_Drawable___default","name","Drawable","32","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_min_safe_integer__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_min_safe_integer___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_max_safe_integer__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_max_safe_integer___default","mounted","this","canvas","$refs","inputCanvas","context","getContext","data","settings","canvasHeight","canvasWidth","pointSize","strokeStyle","fillStyle","dragMode","overPoint","points","cycles","polygonCounter","resultPoints","minPerimeterPoints","maxPerimeterPoints","minAreaPoints","maxAreaPoints","minPerimeter","maxPerimeter","minArea","maxArea","processing","generatedFile","ws","computed","pointsSummary","get","map","e","x","y","join","set","split","sp","replace","console","log","parseInt","directives","insertPoints","canvasElement","binding","JSON","parse","clearRect","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","point","beginPath","moveTo","lineTo","stroke","err","return","insertSides","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","slice","closePath","fill","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_point","methods","removePoint","index","splice","matchPoints","checkPoint","mousePoint","cancel","close","submitPoints","_this","resetCalculatedData","payload","$http","post","then","response","uuid","WebSocket","onmessage","event","area","properties","perimeter","vertex","onclose","clearPoints","getMousePos","evt","rect","getBoundingClientRect","clientX","left","right","clientY","top","bottom","mouseup","mouseUpPoint","dragPoint","addNode","selectedPoint","newPoint","pointToMove","mousemove","mousedown","isMouseOnNode","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","iteratedPoint","push","69","70","74","75","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on","click","attrs","disabled","href","target","_e","_m","rawName","expression","modifiers","number","type","domProps","input","$event","composing","$set","_n","blur","$forceUpdate","ref","width","height","_s","style","staticRenderFns","76","id","78"],"mappings":"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","file":"static/js/app.b72fc0c3943db1bc5253.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(70)\n}\nvar Component = __webpack_require__(26)(\n  /* script */\n  __webpack_require__(31),\n  /* template */\n  __webpack_require__(76),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_resource__ = __webpack_require__(28);\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_2_vue_resource__[\"a\" /* default */]);\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Drawable__ = __webpack_require__(74);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Drawable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Drawable__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  components: {\n    Drawable: __WEBPACK_IMPORTED_MODULE_0__components_Drawable___default.a\n  }\n});\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_min_safe_integer__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_min_safe_integer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_min_safe_integer__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_max_safe_integer__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_max_safe_integer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_max_safe_integer__);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  mounted: function mounted() {\n    this.canvas = this.$refs.inputCanvas;\n    this.context = this.canvas.getContext('2d');\n  },\n  data: function data() {\n    return {\n      canvas: {},\n      context: {},\n      settings: {\n        canvasHeight: 300,\n        canvasWidth: 300,\n        pointSize: 3,\n        strokeStyle: 'rgba(255,255,255,1)',\n        fillStyle: '#00B5AD'\n      },\n      dragMode: false,\n      overPoint: {},\n      points: [],\n      cycles: 500,\n      polygonCounter: 0,\n      resultPoints: [],\n      minPerimeterPoints: [],\n      maxPerimeterPoints: [],\n      minAreaPoints: [],\n      maxAreaPoints: [],\n      minPerimeter: __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_max_safe_integer___default.a,\n      maxPerimeter: __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_min_safe_integer___default.a,\n      minArea: __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_max_safe_integer___default.a,\n      maxArea: __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_min_safe_integer___default.a,\n      processing: false,\n      generatedFile: null,\n      ws: null\n    };\n  },\n\n  computed: {\n    pointsSummary: {\n      get: function get() {\n        return this.points.map(function (e) {\n          return e.x + ', ' + e.y;\n        }).join('\\n');\n      },\n      set: function set(value) {\n        this.points = value.split('\\n').map(function (e) {\n          var sp = e.replace(/ /g, '').split(',');\n          console.log(sp);\n          return {\n            x: parseInt(sp[0]),\n            y: parseInt(sp[1])\n          };\n        });\n      }\n    }\n  },\n  directives: {\n    insertPoints: function insertPoints(canvasElement, binding) {\n      var points = JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(binding.value.points));\n      var settings = binding.value.settings;\n      var context = canvasElement.getContext('2d');\n      context.clearRect(0, 0, settings.canvasWidth, settings.canvasHeight);\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(points), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var point = _step.value;\n\n          context.beginPath();\n          context.moveTo(point.x - settings.pointSize, point.y - settings.pointSize);\n          context.lineTo(point.x - settings.pointSize, point.y + settings.pointSize);\n          context.lineTo(point.x + settings.pointSize, point.y + settings.pointSize);\n          context.lineTo(point.x + settings.pointSize, point.y - settings.pointSize);\n          context.lineTo(point.x - settings.pointSize, point.y - settings.pointSize);\n          context.strokeStyle = settings.strokeStyle;\n          context.stroke();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    },\n    insertSides: function insertSides(canvasElement, binding) {\n      var points = JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(binding.value.points));\n      var settings = binding.value.settings;\n      var context = canvasElement.getContext('2d');\n      context.clearRect(0, 0, settings.canvasWidth, settings.canvasHeight);\n\n      if (!points[0]) {\n        return;\n      }\n      context.beginPath();\n      context.moveTo(points[0][0], points[0][1]);\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(points.slice(1)), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var point = _step2.value;\n\n          context.lineTo(point[0], point[1]);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      context.closePath();\n      context.fillStyle = settings.fillStyle;\n      context.fill();\n\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(points.slice(1)), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var _point = _step3.value;\n\n          context.beginPath();\n          context.moveTo(_point[0] - settings.pointSize, _point[1] - settings.pointSize);\n          context.lineTo(_point[0] - settings.pointSize, _point[1] + settings.pointSize);\n          context.lineTo(_point[0] + settings.pointSize, _point[1] + settings.pointSize);\n          context.lineTo(_point[0] + settings.pointSize, _point[1] - settings.pointSize);\n          context.lineTo(_point[0] - settings.pointSize, _point[1] - settings.pointSize);\n          context.strokeStyle = settings.strokeStyle;\n          context.stroke();\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  },\n  methods: {\n    removePoint: function removePoint(index) {\n      this.points.splice(index, 1);\n    },\n    matchPoints: function matchPoints(checkPoint, mousePoint) {\n      if (mousePoint.x > checkPoint.x + this.settings.pointSize) {\n        return false;\n      }\n\n      if (mousePoint.x < checkPoint.x - this.settings.pointSize) {\n        return false;\n      }\n\n      if (mousePoint.y > checkPoint.y + this.settings.pointSize) {\n        return false;\n      }\n\n      if (mousePoint.y < checkPoint.y - this.settings.pointSize) {\n        return false;\n      }\n      return true;\n    },\n    cancel: function cancel() {\n      this.processing = false;\n      this.ws.close();\n    },\n    submitPoints: function submitPoints() {\n      var _this = this;\n\n      this.resetCalculatedData();\n      var payload = {\n        points: this.points,\n        cycles: this.cycles\n      };\n      this.$http.post('http://polygon.science:5000/', payload).then(function (response) {\n        var uuid = response.data.uuid;\n        _this.generatedFile = uuid + '.json';\n        _this.polygonCounter = 0;\n        _this.processing = true;\n        _this.ws = new WebSocket('ws://polygon.science:5000/polygons/' + uuid);\n        _this.ws.onmessage = function (event) {\n          _this.polygonCounter += 1;\n          var data = JSON.parse(event.data);\n          var area = data.properties.area;\n          var perimeter = data.properties.perimeter;\n\n          if (perimeter < _this.minPerimeter) {\n            _this.minPerimeter = perimeter;\n            _this.minPerimeterPoints = data.vertex;\n          }\n\n          if (perimeter > _this.maxPerimeter) {\n            _this.maxPerimeter = perimeter;\n            _this.maxPerimeterPoints = data.vertex;\n          }\n\n          if (area < _this.minArea) {\n            _this.minArea = area;\n            _this.minAreaPoints = data.vertex;\n          }\n\n          if (area > _this.maxArea) {\n            _this.maxArea = area;\n            _this.maxAreaPoints = data.vertex;\n          }\n\n          _this.resultPoints = data.vertex;\n        };\n        _this.ws.onclose = function (event) {\n          _this.cancel();\n        };\n      });\n    },\n    resetCalculatedData: function resetCalculatedData() {\n      this.resultPoints = [];\n      this.minPerimeterPoints = [];\n      this.maxPerimeterPoints = [];\n      this.minAreaPoints = [];\n      this.maxAreaPoints = [];\n      this.minPerimeter = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_max_safe_integer___default.a;\n      this.maxPerimeter = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_min_safe_integer___default.a;\n      this.minArea = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_max_safe_integer___default.a;\n      this.maxArea = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_min_safe_integer___default.a;\n      this.polygonCounter = 0;\n      this.generatedFile = null;\n    },\n    clearPoints: function clearPoints() {\n      this.points = [];\n      this.resetCalculatedData();\n    },\n    getMousePos: function getMousePos(evt) {\n      var rect = this.context.canvas.getBoundingClientRect();\n      return {\n        x: parseInt((evt.clientX - rect.left) / (rect.right - rect.left) * this.settings.canvasWidth),\n        y: parseInt((evt.clientY - rect.top) / (rect.bottom - rect.top) * this.settings.canvasHeight)\n      };\n    },\n    mouseup: function mouseup(event) {\n      var mouseUpPoint = this.getMousePos(event);\n      if (this.dragMode && this.overPoint) {\n        this.dragPoint(this.overPoint, mouseUpPoint);\n        this.dragMode = false;\n      } else {\n        this.addNode(mouseUpPoint);\n      }\n    },\n    dragPoint: function dragPoint(selectedPoint, newPoint) {\n      this.points.map(function (pointToMove) {\n        if (pointToMove.x === selectedPoint.x && pointToMove.y === selectedPoint.y) {\n          pointToMove.x = newPoint.x;\n          pointToMove.y = newPoint.y;\n        }\n      });\n    },\n    mousemove: function mousemove(event) {\n      var point = this.getMousePos(event);\n\n      if (this.dragMode && this.overPoint) {\n        this.dragPoint(this.overPoint, point);\n      }\n    },\n    mousedown: function mousedown(event) {\n      var point = this.getMousePos(event);\n      if (this.isMouseOnNode(point)) {\n        this.dragMode = true;\n      } else {\n        this.dragMode = false;\n      }\n    },\n    isMouseOnNode: function isMouseOnNode(point) {\n      return this.selectedPoint(point) !== null;\n    },\n    selectedPoint: function selectedPoint(point) {\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(this.points), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var iteratedPoint = _step4.value;\n\n          if (this.matchPoints(iteratedPoint, point)) {\n            this.overPoint = iteratedPoint;\n            return iteratedPoint;\n          }\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n\n      this.overPoint = null;\n      return null;\n    },\n    addNode: function addNode(point) {\n      this.points.push(point);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 69:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 70:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(69)\n}\nvar Component = __webpack_require__(26)(\n  /* script */\n  __webpack_require__(32),\n  /* template */\n  __webpack_require__(75),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 75:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"ui four column grid inverted segment\"\n  }, [_c('h1', [_vm._v(\"Polygons\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"four column row\"\n  }, [_c('div', {\n    staticClass: \"column\"\n  }, [_c('h3', [_vm._v(\"Actions:\")]), _vm._v(\" \"), (_vm.processing) ? _c('div', [_c('button', {\n    staticClass: \"ui button teal\",\n    on: {\n      \"click\": _vm.cancel\n    }\n  }, [_c('div', {\n    staticClass: \"ui active inline loader\"\n  }), _vm._v(\" Cancel\\n        \")])]) : _c('div', [_c('button', {\n    staticClass: \"ui button teal\",\n    attrs: {\n      \"disabled\": _vm.processing\n    },\n    on: {\n      \"click\": _vm.submitPoints\n    }\n  }, [_vm._v(\"\\n          Submit points\\n        \")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"ui button yellow\",\n    attrs: {\n      \"disabled\": _vm.processing\n    },\n    on: {\n      \"click\": _vm.clearPoints\n    }\n  }, [_vm._v(\"Clear points\")]), _vm._v(\" \"), (_vm.generatedFile) ? _c('a', {\n    attrs: {\n      \"href\": '/media/' + _vm.generatedFile,\n      \"target\": \"_blank\"\n    }\n  }, [_c('i', {\n    staticClass: \"download icon\"\n  })]) : _vm._e()]), _vm._v(\" \"), _c('h3', [_vm._v(\"Properties:\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui inverted form\"\n  }, [_c('div', {\n    staticClass: \"inline fields\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"six wide field\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.number\",\n      value: (_vm.settings.canvasWidth),\n      expression: \"settings.canvasWidth\",\n      modifiers: {\n        \"number\": true\n      }\n    }],\n    attrs: {\n      \"type\": \"number\"\n    },\n    domProps: {\n      \"value\": (_vm.settings.canvasWidth)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.$set(_vm.settings, \"canvasWidth\", _vm._n($event.target.value))\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"inline fields\"\n  }, [_vm._m(1), _vm._v(\" \"), _c('div', {\n    staticClass: \"six wide field\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.number\",\n      value: (_vm.settings.canvasHeight),\n      expression: \"settings.canvasHeight\",\n      modifiers: {\n        \"number\": true\n      }\n    }],\n    attrs: {\n      \"type\": \"number\"\n    },\n    domProps: {\n      \"value\": (_vm.settings.canvasHeight)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.$set(_vm.settings, \"canvasHeight\", _vm._n($event.target.value))\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"inline fields\"\n  }, [_vm._m(2), _vm._v(\" \"), _c('div', {\n    staticClass: \"six wide field\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.number\",\n      value: (_vm.settings.pointSize),\n      expression: \"settings.pointSize\",\n      modifiers: {\n        \"number\": true\n      }\n    }],\n    attrs: {\n      \"type\": \"number\"\n    },\n    domProps: {\n      \"value\": (_vm.settings.pointSize)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.$set(_vm.settings, \"pointSize\", _vm._n($event.target.value))\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"inline fields\"\n  }, [_vm._m(3), _vm._v(\" \"), _c('div', {\n    staticClass: \"six wide field\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.number\",\n      value: (_vm.cycles),\n      expression: \"cycles\",\n      modifiers: {\n        \"number\": true\n      }\n    }],\n    attrs: {\n      \"type\": \"number\"\n    },\n    domProps: {\n      \"value\": (_vm.cycles)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.cycles = _vm._n($event.target.value)\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column\"\n  }, [_c('h3', [_vm._v(\"Draw\")]), _vm._v(\" \"), _c('canvas', {\n    directives: [{\n      name: \"insert-points\",\n      rawName: \"v-insert-points\",\n      value: ({\n        points: _vm.points,\n        settings: _vm.settings\n      }),\n      expression: \"{points: points, settings: settings}\"\n    }],\n    ref: \"inputCanvas\",\n    staticClass: \"fat-border\",\n    attrs: {\n      \"width\": _vm.settings.canvasWidth,\n      \"height\": _vm.settings.canvasHeight\n    },\n    on: {\n      \"mousedown\": _vm.mousedown,\n      \"mouseup\": _vm.mouseup,\n      \"mousemove\": _vm.mousemove\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column\"\n  }, [_c('h3', [_vm._v(\"CurrentResult (\" + _vm._s(_vm.polygonCounter) + \")\")]), _vm._v(\" \"), _c('canvas', {\n    directives: [{\n      name: \"insert-sides\",\n      rawName: \"v-insert-sides\",\n      value: ({\n        points: _vm.resultPoints,\n        settings: _vm.settings\n      }),\n      expression: \"{points: resultPoints, settings: settings}\"\n    }],\n    ref: \"outputCanvas\",\n    staticClass: \"fat-border\",\n    attrs: {\n      \"width\": _vm.settings.canvasWidth,\n      \"height\": _vm.settings.canvasHeight\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column points\",\n    style: ({\n      height: _vm.settings.canvasHeight + 55 + 'px'\n    })\n  }, [_c('h3', [_vm._v(\"Points (data)\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui form\"\n  }, [_c('div', {\n    staticClass: \"two fields\"\n  }, [_c('div', {\n    staticClass: \"field\"\n  }, [_c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.pointsSummary),\n      expression: \"pointsSummary\"\n    }],\n    style: ({\n      height: _vm.settings.canvasHeight + 'px',\n      width: _vm.settings.canvasWidth + 'px'\n    }),\n    domProps: {\n      \"value\": (_vm.pointsSummary)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.pointsSummary = $event.target.value\n      }\n    }\n  })])])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"four column row\"\n  }, [_c('div', {\n    staticClass: \"column\"\n  }, [_c('h3', [_vm._v(\"Min perimeter (\" + _vm._s(_vm.minPerimeter) + \")\")]), _vm._v(\" \"), _c('canvas', {\n    directives: [{\n      name: \"insert-sides\",\n      rawName: \"v-insert-sides\",\n      value: ({\n        points: _vm.minPerimeterPoints,\n        settings: _vm.settings\n      }),\n      expression: \"{points: minPerimeterPoints, settings: settings}\"\n    }],\n    ref: \"minPerimeterCanvas\",\n    staticClass: \"border\",\n    attrs: {\n      \"width\": _vm.settings.canvasWidth,\n      \"height\": _vm.settings.canvasHeight\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column\"\n  }, [_c('h3', [_vm._v(\"Max perimeter (\" + _vm._s(_vm.maxPerimeter) + \")\")]), _vm._v(\" \"), _c('canvas', {\n    directives: [{\n      name: \"insert-sides\",\n      rawName: \"v-insert-sides\",\n      value: ({\n        points: _vm.maxPerimeterPoints,\n        settings: _vm.settings\n      }),\n      expression: \"{points: maxPerimeterPoints, settings: settings}\"\n    }],\n    ref: \"maxPerimeterCanvas\",\n    staticClass: \"border\",\n    attrs: {\n      \"width\": _vm.settings.canvasWidth,\n      \"height\": _vm.settings.canvasHeight\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column\"\n  }, [_c('h3', [_vm._v(\"Min area (\" + _vm._s(_vm.minArea) + \")\")]), _vm._v(\" \"), _c('canvas', {\n    directives: [{\n      name: \"insert-sides\",\n      rawName: \"v-insert-sides\",\n      value: ({\n        points: _vm.minAreaPoints,\n        settings: _vm.settings\n      }),\n      expression: \"{points: minAreaPoints, settings: settings}\"\n    }],\n    ref: \"minAreaCanvas\",\n    staticClass: \"border\",\n    attrs: {\n      \"width\": _vm.settings.canvasWidth,\n      \"height\": _vm.settings.canvasHeight\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column\"\n  }, [_c('h3', [_vm._v(\"Max area (\" + _vm._s(_vm.maxArea) + \")\")]), _vm._v(\" \"), _c('canvas', {\n    directives: [{\n      name: \"insert-sides\",\n      rawName: \"v-insert-sides\",\n      value: ({\n        points: _vm.maxAreaPoints,\n        settings: _vm.settings\n      }),\n      expression: \"{points: maxAreaPoints, settings: settings}\"\n    }],\n    ref: \"maxAreaCanvas\",\n    staticClass: \"border\",\n    attrs: {\n      \"width\": _vm.settings.canvasWidth,\n      \"height\": _vm.settings.canvasHeight\n    }\n  })])])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"four wide field\"\n  }, [_c('label', [_vm._v(\"Width: \")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"four wide field\"\n  }, [_c('label', [_vm._v(\"Height: \")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"four wide field\"\n  }, [_c('label', [_vm._v(\"Point Size:\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"four wide field\"\n  }, [_c('label', [_vm._v(\"Cycles:\")])])\n}]}\n\n/***/ }),\n\n/***/ 76:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"ui inverted\",\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('drawable')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ })\n\n},[30]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.b72fc0c3943db1bc5253.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8399f25c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8399f25c\\\",\\\"hasScoped\\\":false}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 27\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport VueResource from 'vue-resource'\n\nVue.config.productionTip = false\nVue.use(VueResource)\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div id=\"app\" class=\"ui inverted\">\n    <drawable></drawable>\n  </div>\n</template>\n\n<script>\nimport Drawable from './components/Drawable'\n\nexport default {\n  name: 'app',\n  components: {\n    Drawable\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-left: 20px;\n  margin-top: 20px;\n}\nbody {\n  background: #1B1C1D;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?0a34aad8","<template>\n  <div class=\"ui four column grid inverted segment\">\n    <h1>Polygons</h1>\n    <div class=\"four column row\">\n      <div class=\"column\">\n        <h3>Actions:</h3>\n        <div v-if=\"processing\">\n          <button class=\"ui button teal\" @click=\"cancel\">\n            <div class=\"ui active inline loader\"></div> Cancel\n          </button>\n        </div>\n        <div v-else>\n          <button class=\"ui button teal\" @click=\"submitPoints\" :disabled=\"processing\">\n            Submit points\n          </button>\n          <button class=\"ui button yellow\" @click=\"clearPoints\" :disabled=\"processing\">Clear points</button>\n          <a v-if=\"generatedFile\" v-bind:href=\"'/media/'+ generatedFile\" target=\"_blank\">\n            <i class=\"download icon\"></i>\n          </a>\n        </div>\n\n        <h3>Properties:</h3>\n        <div class=\"ui inverted form\">\n          <div class=\"inline fields\">\n            <div class=\"four wide field\">\n              <label>Width: </label>\n            </div>\n            <div class=\"six wide field\">\n              <input type=\"number\" v-model.number=\"settings.canvasWidth\">\n            </div>\n          </div>\n          <div class=\"inline fields\">\n            <div class=\"four wide field\">\n              <label>Height: </label>\n            </div>\n            <div class=\"six wide field\">\n              <input type=\"number\" v-model.number=\"settings.canvasHeight\">\n            </div>\n          </div>\n          <div class=\"inline fields\">\n            <div class=\"four wide field\">\n              <label>Point Size:</label>\n            </div>\n            <div class=\"six wide field\">\n              <input type=\"number\" v-model.number=\"settings.pointSize\">\n            </div>\n          </div>\n          <div class=\"inline fields\">\n            <div class=\"four wide field\">\n              <label>Cycles:</label>\n            </div>\n            <div class=\"six wide field\">\n              <input type=\"number\" v-model.number=\"cycles\">\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"column\">\n        <h3>Draw</h3>\n        <canvas\n          class=\"fat-border\"\n          ref=\"inputCanvas\"\n          :width=\"settings.canvasWidth\"\n          :height=\"settings.canvasHeight\"\n          v-insert-points=\"{points: points, settings: settings}\"\n\n          @mousedown=\"mousedown\"\n          @mouseup=\"mouseup\"\n          @mousemove=\"mousemove\"\n        ></canvas>\n      </div>\n\n      <div class=\"column\">\n        <h3>CurrentResult ({{ polygonCounter }})</h3>\n        <canvas\n          class=\"fat-border\"\n          ref=\"outputCanvas\"\n          :width=\"settings.canvasWidth\"\n          :height=\"settings.canvasHeight\"\n          v-insert-sides=\"{points: resultPoints, settings: settings}\"\n        ></canvas>\n      </div>\n\n      <div  class=\"column points\" v-bind:style=\"{ height: settings.canvasHeight + 55 + 'px' }\">\n        <h3>Points (data)</h3>\n        <div class=\"ui form\">\n          <div class=\"two fields\">\n            <div class=\"field\">\n              <textarea v-model=\"pointsSummary\" v-bind:style=\"{ height: settings.canvasHeight + 'px', width: settings.canvasWidth + 'px'  }\"></textarea>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div class=\"four column row\">\n      <div class=\"column\">\n        <h3>Min perimeter ({{ minPerimeter }})</h3>\n        <canvas\n          class=\"border\"\n          ref=\"minPerimeterCanvas\"\n          :width=\"settings.canvasWidth\"\n          :height=\"settings.canvasHeight\"\n          v-insert-sides=\"{points: minPerimeterPoints, settings: settings}\"\n        ></canvas>\n      </div>\n\n      <div class=\"column\">\n        <h3>Max perimeter ({{ maxPerimeter }})</h3>\n        <canvas\n          class=\"border\"\n          ref=\"maxPerimeterCanvas\"\n          :width=\"settings.canvasWidth\"\n          :height=\"settings.canvasHeight\"\n          v-insert-sides=\"{points: maxPerimeterPoints, settings: settings}\"\n        ></canvas>\n      </div>\n\n      <div class=\"column\">\n        <h3>Min area ({{ minArea }})</h3>\n        <canvas\n          class=\"border\"\n          ref=\"minAreaCanvas\"\n          :width=\"settings.canvasWidth\"\n          :height=\"settings.canvasHeight\"\n          v-insert-sides=\"{points: minAreaPoints, settings: settings}\"\n        ></canvas>\n      </div>\n\n      <div class=\"column\">\n        <h3>Max area ({{ maxArea }})</h3>\n        <canvas\n          class=\"border\"\n          ref=\"maxAreaCanvas\"\n          :width=\"settings.canvasWidth\"\n          :height=\"settings.canvasHeight\"\n          v-insert-sides=\"{points: maxAreaPoints, settings: settings}\"\n        ></canvas>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  mounted () {\n    this.canvas = this.$refs.inputCanvas\n    this.context = this.canvas.getContext('2d')\n  },\n  data () {\n    return {\n      canvas: {},\n      context: {},\n      settings: {\n        canvasHeight: 300,\n        canvasWidth: 300,\n        pointSize: 3,\n        strokeStyle: 'rgba(255,255,255,1)',\n        fillStyle: '#00B5AD'\n      },\n      dragMode: false,\n      overPoint: {},\n      points: [],\n      cycles: 500,\n      polygonCounter: 0,\n      resultPoints: [],\n      minPerimeterPoints: [],\n      maxPerimeterPoints: [],\n      minAreaPoints: [],\n      maxAreaPoints: [],\n      minPerimeter: Number.MAX_SAFE_INTEGER,\n      maxPerimeter: Number.MIN_SAFE_INTEGER,\n      minArea: Number.MAX_SAFE_INTEGER,\n      maxArea: Number.MIN_SAFE_INTEGER,\n      processing: false,\n      generatedFile: null,\n      ws: null\n    }\n  },\n  computed: {\n    pointsSummary: {\n      get () {\n        return this.points.map((e) =>\n          e.x + ', ' + e.y\n        ).join('\\n')\n      },\n      set (value) {\n        this.points = value.split('\\n').map((e) => {\n          const sp = e.replace(/ /g, '').split(',')\n          console.log(sp)\n          return {\n            x: parseInt(sp[0]),\n            y: parseInt(sp[1])\n          }\n        })\n      }\n    }\n  },\n  directives: {\n    insertPoints: function (canvasElement, binding) {\n      const points = JSON.parse(JSON.stringify(binding.value.points))\n      const settings = binding.value.settings\n      const context = canvasElement.getContext('2d')\n      context.clearRect(0, 0, settings.canvasWidth, settings.canvasHeight)\n\n      for (let point of points) {\n        context.beginPath()\n        context.moveTo(point.x - settings.pointSize, point.y - settings.pointSize)\n        context.lineTo(point.x - settings.pointSize, point.y + settings.pointSize)\n        context.lineTo(point.x + settings.pointSize, point.y + settings.pointSize)\n        context.lineTo(point.x + settings.pointSize, point.y - settings.pointSize)\n        context.lineTo(point.x - settings.pointSize, point.y - settings.pointSize)\n        context.strokeStyle = settings.strokeStyle\n        context.stroke()\n      }\n    },\n    insertSides: (canvasElement, binding) => {\n      const points = JSON.parse(JSON.stringify(binding.value.points))\n      const settings = binding.value.settings\n      const context = canvasElement.getContext('2d')\n      context.clearRect(0, 0, settings.canvasWidth, settings.canvasHeight)\n\n      if (!points[0]) {\n        return\n      }\n      context.beginPath()\n      context.moveTo(points[0][0], points[0][1])\n      for (let point of points.slice(1)) {\n        context.lineTo(point[0], point[1])\n      }\n      context.closePath()\n      context.fillStyle = settings.fillStyle\n      context.fill()\n\n      for (let point of points.slice(1)) {\n        context.beginPath()\n        context.moveTo(point[0] - settings.pointSize, point[1] - settings.pointSize)\n        context.lineTo(point[0] - settings.pointSize, point[1] + settings.pointSize)\n        context.lineTo(point[0] + settings.pointSize, point[1] + settings.pointSize)\n        context.lineTo(point[0] + settings.pointSize, point[1] - settings.pointSize)\n        context.lineTo(point[0] - settings.pointSize, point[1] - settings.pointSize)\n        context.strokeStyle = settings.strokeStyle\n        context.stroke()\n      }\n    }\n  },\n  methods: {\n    removePoint (index) {\n      this.points.splice(index, 1)\n    },\n    matchPoints (checkPoint, mousePoint) {\n      if (mousePoint.x > checkPoint.x + this.settings.pointSize) {\n        return false\n      }\n\n      if (mousePoint.x < checkPoint.x - this.settings.pointSize) {\n        return false\n      }\n\n      if (mousePoint.y > checkPoint.y + this.settings.pointSize) {\n        return false\n      }\n\n      if (mousePoint.y < checkPoint.y - this.settings.pointSize) {\n        return false\n      }\n      return true\n    },\n\n    cancel () {\n      this.processing = false\n      this.ws.close()\n    },\n\n    submitPoints () {\n      this.resetCalculatedData()\n      const payload = {\n        points: this.points,\n        cycles: this.cycles\n      }\n      this.$http.post('http://polygon.science:5000/', payload).then((response) => {\n        const uuid = response.data.uuid\n        this.generatedFile = uuid + '.json'\n        this.polygonCounter = 0\n        this.processing = true\n        this.ws = new WebSocket('ws://polygon.science:5000/polygons/' + uuid)\n        this.ws.onmessage = (event) => {\n          this.polygonCounter += 1\n          const data = JSON.parse(event.data)\n          const area = data.properties.area\n          const perimeter = data.properties.perimeter\n\n          if (perimeter < this.minPerimeter) {\n            this.minPerimeter = perimeter\n            this.minPerimeterPoints = data.vertex\n          }\n\n          if (perimeter > this.maxPerimeter) {\n            this.maxPerimeter = perimeter\n            this.maxPerimeterPoints = data.vertex\n          }\n\n          if (area < this.minArea) {\n            this.minArea = area\n            this.minAreaPoints = data.vertex\n          }\n\n          if (area > this.maxArea) {\n            this.maxArea = area\n            this.maxAreaPoints = data.vertex\n          }\n\n          this.resultPoints = data.vertex\n        }\n        this.ws.onclose = (event) => {\n          this.cancel()\n        }\n      })\n    },\n    resetCalculatedData () {\n      this.resultPoints = []\n      this.minPerimeterPoints = []\n      this.maxPerimeterPoints = []\n      this.minAreaPoints = []\n      this.maxAreaPoints = []\n      this.minPerimeter = Number.MAX_SAFE_INTEGER\n      this.maxPerimeter = Number.MIN_SAFE_INTEGER\n      this.minArea = Number.MAX_SAFE_INTEGER\n      this.maxArea = Number.MIN_SAFE_INTEGER\n      this.polygonCounter = 0\n      this.generatedFile = null\n    },\n    clearPoints () {\n      this.points = []\n      this.resetCalculatedData()\n    },\n    getMousePos (evt) {\n      // https://stackoverflow.com/questions/17130395/real-mouse-position-in-canvas\n      var rect = this.context.canvas.getBoundingClientRect()\n      return {\n        x: parseInt((evt.clientX - rect.left) / (rect.right - rect.left) * this.settings.canvasWidth),\n        y: parseInt((evt.clientY - rect.top) / (rect.bottom - rect.top) * this.settings.canvasHeight)\n      }\n    },\n    mouseup (event) {\n      let mouseUpPoint = this.getMousePos(event)\n      if (this.dragMode && this.overPoint) {\n        this.dragPoint(this.overPoint, mouseUpPoint)\n        this.dragMode = false\n      } else {\n        this.addNode(mouseUpPoint)\n      }\n    },\n    dragPoint (selectedPoint, newPoint) {\n      this.points.map((pointToMove) => {\n        if (pointToMove.x === selectedPoint.x && pointToMove.y === selectedPoint.y) {\n          pointToMove.x = newPoint.x\n          pointToMove.y = newPoint.y\n        }\n      })\n    },\n    mousemove (event) {\n      let point = this.getMousePos(event)\n      // this.selectedPoint(point)\n      if (this.dragMode && this.overPoint) {\n        this.dragPoint(this.overPoint, point)\n      }\n    },\n    mousedown (event) {\n      let point = this.getMousePos(event)\n      if (this.isMouseOnNode(point)) {\n        // point selected\n        this.dragMode = true\n      } else {\n        this.dragMode = false\n      }\n    },\n    isMouseOnNode (point) {\n      return this.selectedPoint(point) !== null\n    },\n    selectedPoint (point) {\n      for (var iteratedPoint of this.points) {\n        if (this.matchPoints(iteratedPoint, point)) {\n          this.overPoint = iteratedPoint\n          return iteratedPoint\n        }\n      }\n      this.overPoint = null\n      return null\n    },\n    addNode (point) {\n      this.points.push(point)\n    }\n  }\n}\n</script>\n<style>\n  input {\n    width: 150px;\n    color: black;\n  }\n  label {\n    display:inline-block;\n    width: 70px;\n  }\n  .border {\n    border:1px solid #bbb;\n  }\n\n  .fat-border {\n    border:3px solid #bbb;\n  }\n\n  .grid-container {\n    margin-left: 15px;\n    display: grid;\n    height: 100%;\n    grid-template-columns: 1fr 1fr 1fr 1fr;\n    grid-template-rows: 1fr 1fr;\n    grid-template-areas: \". . . .\" \". . . .\";\n  }\n\n  .points {\n    overflow-y: scroll;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Drawable.vue?b11e7a14","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-18f29368\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Drawable.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Drawable.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-18f29368\\\",\\\"hasScoped\\\":false}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Drawable.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Drawable.vue\n// module id = 74\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"ui four column grid inverted segment\"\n  }, [_c('h1', [_vm._v(\"Polygons\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"four column row\"\n  }, [_c('div', {\n    staticClass: \"column\"\n  }, [_c('h3', [_vm._v(\"Actions:\")]), _vm._v(\" \"), (_vm.processing) ? _c('div', [_c('button', {\n    staticClass: \"ui button teal\",\n    on: {\n      \"click\": _vm.cancel\n    }\n  }, [_c('div', {\n    staticClass: \"ui active inline loader\"\n  }), _vm._v(\" Cancel\\n        \")])]) : _c('div', [_c('button', {\n    staticClass: \"ui button teal\",\n    attrs: {\n      \"disabled\": _vm.processing\n    },\n    on: {\n      \"click\": _vm.submitPoints\n    }\n  }, [_vm._v(\"\\n          Submit points\\n        \")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"ui button yellow\",\n    attrs: {\n      \"disabled\": _vm.processing\n    },\n    on: {\n      \"click\": _vm.clearPoints\n    }\n  }, [_vm._v(\"Clear points\")]), _vm._v(\" \"), (_vm.generatedFile) ? _c('a', {\n    attrs: {\n      \"href\": '/media/' + _vm.generatedFile,\n      \"target\": \"_blank\"\n    }\n  }, [_c('i', {\n    staticClass: \"download icon\"\n  })]) : _vm._e()]), _vm._v(\" \"), _c('h3', [_vm._v(\"Properties:\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui inverted form\"\n  }, [_c('div', {\n    staticClass: \"inline fields\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"six wide field\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.number\",\n      value: (_vm.settings.canvasWidth),\n      expression: \"settings.canvasWidth\",\n      modifiers: {\n        \"number\": true\n      }\n    }],\n    attrs: {\n      \"type\": \"number\"\n    },\n    domProps: {\n      \"value\": (_vm.settings.canvasWidth)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.$set(_vm.settings, \"canvasWidth\", _vm._n($event.target.value))\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"inline fields\"\n  }, [_vm._m(1), _vm._v(\" \"), _c('div', {\n    staticClass: \"six wide field\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.number\",\n      value: (_vm.settings.canvasHeight),\n      expression: \"settings.canvasHeight\",\n      modifiers: {\n        \"number\": true\n      }\n    }],\n    attrs: {\n      \"type\": \"number\"\n    },\n    domProps: {\n      \"value\": (_vm.settings.canvasHeight)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.$set(_vm.settings, \"canvasHeight\", _vm._n($event.target.value))\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"inline fields\"\n  }, [_vm._m(2), _vm._v(\" \"), _c('div', {\n    staticClass: \"six wide field\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.number\",\n      value: (_vm.settings.pointSize),\n      expression: \"settings.pointSize\",\n      modifiers: {\n        \"number\": true\n      }\n    }],\n    attrs: {\n      \"type\": \"number\"\n    },\n    domProps: {\n      \"value\": (_vm.settings.pointSize)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.$set(_vm.settings, \"pointSize\", _vm._n($event.target.value))\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"inline fields\"\n  }, [_vm._m(3), _vm._v(\" \"), _c('div', {\n    staticClass: \"six wide field\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.number\",\n      value: (_vm.cycles),\n      expression: \"cycles\",\n      modifiers: {\n        \"number\": true\n      }\n    }],\n    attrs: {\n      \"type\": \"number\"\n    },\n    domProps: {\n      \"value\": (_vm.cycles)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.cycles = _vm._n($event.target.value)\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column\"\n  }, [_c('h3', [_vm._v(\"Draw\")]), _vm._v(\" \"), _c('canvas', {\n    directives: [{\n      name: \"insert-points\",\n      rawName: \"v-insert-points\",\n      value: ({\n        points: _vm.points,\n        settings: _vm.settings\n      }),\n      expression: \"{points: points, settings: settings}\"\n    }],\n    ref: \"inputCanvas\",\n    staticClass: \"fat-border\",\n    attrs: {\n      \"width\": _vm.settings.canvasWidth,\n      \"height\": _vm.settings.canvasHeight\n    },\n    on: {\n      \"mousedown\": _vm.mousedown,\n      \"mouseup\": _vm.mouseup,\n      \"mousemove\": _vm.mousemove\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column\"\n  }, [_c('h3', [_vm._v(\"CurrentResult (\" + _vm._s(_vm.polygonCounter) + \")\")]), _vm._v(\" \"), _c('canvas', {\n    directives: [{\n      name: \"insert-sides\",\n      rawName: \"v-insert-sides\",\n      value: ({\n        points: _vm.resultPoints,\n        settings: _vm.settings\n      }),\n      expression: \"{points: resultPoints, settings: settings}\"\n    }],\n    ref: \"outputCanvas\",\n    staticClass: \"fat-border\",\n    attrs: {\n      \"width\": _vm.settings.canvasWidth,\n      \"height\": _vm.settings.canvasHeight\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column points\",\n    style: ({\n      height: _vm.settings.canvasHeight + 55 + 'px'\n    })\n  }, [_c('h3', [_vm._v(\"Points (data)\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui form\"\n  }, [_c('div', {\n    staticClass: \"two fields\"\n  }, [_c('div', {\n    staticClass: \"field\"\n  }, [_c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.pointsSummary),\n      expression: \"pointsSummary\"\n    }],\n    style: ({\n      height: _vm.settings.canvasHeight + 'px',\n      width: _vm.settings.canvasWidth + 'px'\n    }),\n    domProps: {\n      \"value\": (_vm.pointsSummary)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.pointsSummary = $event.target.value\n      }\n    }\n  })])])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"four column row\"\n  }, [_c('div', {\n    staticClass: \"column\"\n  }, [_c('h3', [_vm._v(\"Min perimeter (\" + _vm._s(_vm.minPerimeter) + \")\")]), _vm._v(\" \"), _c('canvas', {\n    directives: [{\n      name: \"insert-sides\",\n      rawName: \"v-insert-sides\",\n      value: ({\n        points: _vm.minPerimeterPoints,\n        settings: _vm.settings\n      }),\n      expression: \"{points: minPerimeterPoints, settings: settings}\"\n    }],\n    ref: \"minPerimeterCanvas\",\n    staticClass: \"border\",\n    attrs: {\n      \"width\": _vm.settings.canvasWidth,\n      \"height\": _vm.settings.canvasHeight\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column\"\n  }, [_c('h3', [_vm._v(\"Max perimeter (\" + _vm._s(_vm.maxPerimeter) + \")\")]), _vm._v(\" \"), _c('canvas', {\n    directives: [{\n      name: \"insert-sides\",\n      rawName: \"v-insert-sides\",\n      value: ({\n        points: _vm.maxPerimeterPoints,\n        settings: _vm.settings\n      }),\n      expression: \"{points: maxPerimeterPoints, settings: settings}\"\n    }],\n    ref: \"maxPerimeterCanvas\",\n    staticClass: \"border\",\n    attrs: {\n      \"width\": _vm.settings.canvasWidth,\n      \"height\": _vm.settings.canvasHeight\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column\"\n  }, [_c('h3', [_vm._v(\"Min area (\" + _vm._s(_vm.minArea) + \")\")]), _vm._v(\" \"), _c('canvas', {\n    directives: [{\n      name: \"insert-sides\",\n      rawName: \"v-insert-sides\",\n      value: ({\n        points: _vm.minAreaPoints,\n        settings: _vm.settings\n      }),\n      expression: \"{points: minAreaPoints, settings: settings}\"\n    }],\n    ref: \"minAreaCanvas\",\n    staticClass: \"border\",\n    attrs: {\n      \"width\": _vm.settings.canvasWidth,\n      \"height\": _vm.settings.canvasHeight\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"column\"\n  }, [_c('h3', [_vm._v(\"Max area (\" + _vm._s(_vm.maxArea) + \")\")]), _vm._v(\" \"), _c('canvas', {\n    directives: [{\n      name: \"insert-sides\",\n      rawName: \"v-insert-sides\",\n      value: ({\n        points: _vm.maxAreaPoints,\n        settings: _vm.settings\n      }),\n      expression: \"{points: maxAreaPoints, settings: settings}\"\n    }],\n    ref: \"maxAreaCanvas\",\n    staticClass: \"border\",\n    attrs: {\n      \"width\": _vm.settings.canvasWidth,\n      \"height\": _vm.settings.canvasHeight\n    }\n  })])])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"four wide field\"\n  }, [_c('label', [_vm._v(\"Width: \")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"four wide field\"\n  }, [_c('label', [_vm._v(\"Height: \")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"four wide field\"\n  }, [_c('label', [_vm._v(\"Point Size:\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"four wide field\"\n  }, [_c('label', [_vm._v(\"Cycles:\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-18f29368\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Drawable.vue\n// module id = 75\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"ui inverted\",\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('drawable')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-8399f25c\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 76\n// module chunks = 1"],"sourceRoot":""}